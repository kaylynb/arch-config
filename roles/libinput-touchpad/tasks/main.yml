---
- block:
  - name: install xf86-input-libinput package
    package:
      name: xf86-input-libinput

  - name: install libinput touchpad configuration
    copy:
      src: 02-libinput-touchpad.conf
      dest: /etc/X11/xorg.conf.d/
      mode: 0644

  - name: add user to input group
    user:
      name: "{{ lookup('env', 'USER') }}"
      groups: input
      append: true

  - name: install libinput-gestures package
    aur:
      name: libinput-gestures

  become: true

- name: install user libinput-gestures configuration
  copy:
    src: libinput-gestures.conf
    dest: ~/.config/
    mode: 0444

- name: install user libinput-gestures xprofile start script
  copy:
    src: xprofile.d/libinput-gestures
    dest: ~/.xprofile.d/
    mode: 0444
